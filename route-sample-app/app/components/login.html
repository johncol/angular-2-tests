<h1>Login</h1>

<section *ngIf="!authService.isLogged()">
	<form [formGroup]="form" (ngSubmit)="login()">
		<div>
			<label for="user">User</label>
			<input type="text" id="user" [formControl]="form.controls['user']" />
			<span *ngIf="(formSubmitted || user.touched) && !user.valid" class="form-error">
				This field is required
			</span>
		</div>
		<div>
			<label for="password">Password</label>
			<input type="text" id="password" [formControl]="form.controls['password']" />
			<span *ngIf="(formSubmitted || password.touched) && !password.valid" class="form-error">
				This field is required
			</span>
		</div>
		<div>
			<button type="submit">Login</button>
		</div>
		<p *ngIf="failedLogin" class="form-error">
			User or password incorrect
		</p>
	</form>
</section>

<section *ngIf="authService.isLogged()">
	<p>Welcome! You are logged as '{{authService.getUser()}}'</p>
	<p><a (click)="authService.logout()" class="logout">Logout</a></p>
</section>